@import "../../../styles/grid.css";
@import "../../../styles/space.css";
@import "../../../styles/tokens/colors.css";
@import "../../../styles/typography.css";
@import "../../../styles/fonts.css";

/* Video Element Base Styles */
.video {
  display: block;
  width: 100%;
  height: auto;
  background-color: var(--color-surface-variant);
}

.video:focus {
  outline: 2px solid var(--color-primary);
  outline-offset: 2px;
}

/* Video Container */
.video-container {
  position: relative;
  overflow: hidden;
  background-color: var(--color-surface-variant);
  border-radius: 8px;
}

/* Video with Controls */
.video-container--with-controls {
  border: 1px solid var(--color-outline-variant);
}

/* Aspect Ratio Containers */
.video-aspect {
  position: relative;
  overflow: hidden;
  background-color: var(--color-surface-variant);
}

.video-aspect--1-1 {
  aspect-ratio: 1 / 1;
}

.video-aspect--16-9 {
  aspect-ratio: 16 / 9;
}

.video-aspect--9-16 {
  aspect-ratio: 9 / 16;
}

.video-aspect--4-3 {
  aspect-ratio: 4 / 3;
}

.video-aspect--3-2 {
  aspect-ratio: 3 / 2;
}

.video-aspect--2-1 {
  aspect-ratio: 2 / 1;
}

.video-aspect--21-9 {
  aspect-ratio: 21 / 9;
}

/* Video within aspect ratio container */
.video-aspect .video {
  width: 100%;
  height: 100%;
  object-fit: cover;
}

/* Object Fit Utilities */
.video--cover {
  object-fit: cover;
}

.video--contain {
  object-fit: contain;
}

.video--fill {
  object-fit: fill;
}

/* Video Poster Overlay */
.video-poster {
  position: absolute;
  inset: 0;
  width: 100%;
  height: 100%;
  object-fit: cover;
  pointer-events: none;
}

/* Video Overlay (for play button, loading, etc.) */
.video-overlay {
  position: absolute;
  inset: 0;
  display: flex;
  align-items: center;
  justify-content: center;
  background: linear-gradient(
    to bottom,
    rgba(0, 0, 0, 0.3) 0%,
    rgba(0, 0, 0, 0) 30%,
    rgba(0, 0, 0, 0) 70%,
    rgba(0, 0, 0, 0.5) 100%
  );
  pointer-events: none;
  opacity: 0;
  transition: opacity 0.2s ease;
}

.video-container:hover .video-overlay,
.video-container--paused .video-overlay {
  opacity: 1;
}

/* Play/Pause Button Overlay */
.video-play-button {
  width: 64px;
  height: 64px;
  border-radius: 50%;
  background-color: rgba(255, 255, 255, 0.9);
  border: none;
  cursor: pointer;
  display: flex;
  align-items: center;
  justify-content: center;
  transition: all 0.2s ease;
  pointer-events: auto;
  color: var(--color-primary);
}

.video-play-button:hover {
  background-color: rgba(255, 255, 255, 1);
  transform: scale(1.1);
}

.video-play-button .icon {
  font-size: 32px;
}

/* Loading State */
.video-loading {
  position: absolute;
  inset: 0;
  display: flex;
  align-items: center;
  justify-content: center;
  background-color: rgba(0, 0, 0, 0.7);
  color: white;
}

.video-loading__spinner {
  width: 48px;
  height: 48px;
  border: 4px solid rgba(255, 255, 255, 0.3);
  border-top-color: white;
  border-radius: 50%;
  animation: video-spin 0.8s linear infinite;
}

@keyframes video-spin {
  to {
    transform: rotate(360deg);
  }
}

/* Error State */
.video-error {
  position: absolute;
  inset: 0;
  display: flex;
  flex-direction: column;
  align-items: center;
  justify-content: center;
  gap: var(--space-m);
  background-color: var(--color-surface-variant);
  color: var(--color-error);
  padding: var(--space-l);
  text-align: center;
}

.video-error__icon {
  font-size: 48px;
}

.video-error__message {
  font-family: var(--font-sans);
  font-size: var(--step-0);
  color: var(--color-on-surface);
}

/* Custom Controls */
.video-controls {
  position: absolute;
  bottom: 0;
  left: 0;
  right: 0;
  padding: var(--space-m);
  background: linear-gradient(
    to top,
    rgba(0, 0, 0, 0.8) 0%,
    rgba(0, 0, 0, 0.6) 60%,
    rgba(0, 0, 0, 0) 100%
  );
  opacity: 0;
  transition: opacity 0.2s ease;
  pointer-events: none;
}

.video-container:hover .video-controls,
.video-container--paused .video-controls {
  opacity: 1;
  pointer-events: auto;
}

.video-controls__row {
  display: flex;
  align-items: center;
  gap: var(--space-s);
}

.video-controls__row + .video-controls__row {
  margin-top: var(--space-xs);
}

/* Control Buttons */
.video-control-button {
  background: none;
  border: none;
  color: white;
  cursor: pointer;
  padding: var(--space-xs);
  border-radius: 4px;
  display: flex;
  align-items: center;
  justify-content: center;
  transition: background-color 0.2s ease;
}

.video-control-button:hover {
  background-color: rgba(255, 255, 255, 0.2);
}

.video-control-button .icon {
  font-size: 24px;
}

/* Progress Bar */
.video-progress {
  flex: 1;
  height: 4px;
  background-color: rgba(255, 255, 255, 0.3);
  border-radius: 2px;
  cursor: pointer;
  position: relative;
}

.video-progress__filled {
  height: 100%;
  background-color: var(--color-primary);
  border-radius: 2px;
  transition: width 0.1s linear;
}

.video-progress__buffered {
  position: absolute;
  top: 0;
  left: 0;
  height: 100%;
  background-color: rgba(255, 255, 255, 0.5);
  border-radius: 2px;
}

.video-progress:hover {
  height: 6px;
}

/* Time Display */
.video-time {
  font-family: var(--font-mono);
  font-size: var(--step--2);
  color: white;
  white-space: nowrap;
}

/* Volume Control */
.video-volume {
  display: flex;
  align-items: center;
  gap: var(--space-xs);
}

.video-volume__slider {
  width: 80px;
  height: 4px;
  background-color: rgba(255, 255, 255, 0.3);
  border-radius: 2px;
  cursor: pointer;
  position: relative;
}

.video-volume__filled {
  height: 100%;
  background-color: white;
  border-radius: 2px;
}

/* Settings Menu */
.video-settings {
  position: relative;
}

.video-settings__menu {
  position: absolute;
  bottom: 100%;
  right: 0;
  margin-bottom: var(--space-xs);
  background-color: rgba(0, 0, 0, 0.9);
  border-radius: 4px;
  padding: var(--space-xs);
  min-width: 200px;
  display: none;
}

.video-settings--open .video-settings__menu {
  display: block;
}

.video-settings__item {
  padding: var(--space-xs) var(--space-s);
  color: white;
  font-family: var(--font-sans);
  font-size: var(--step--1);
  cursor: pointer;
  border-radius: 4px;
  display: flex;
  justify-content: space-between;
  align-items: center;
}

.video-settings__item:hover {
  background-color: rgba(255, 255, 255, 0.2);
}

.video-settings__item--active {
  color: var(--color-primary);
}

/* Captions/Subtitles */
.video-captions {
  position: absolute;
  bottom: 80px;
  left: 50%;
  transform: translateX(-50%);
  max-width: 80%;
  text-align: center;
  pointer-events: none;
}

.video-caption-text {
  display: inline-block;
  padding: var(--space-xs) var(--space-s);
  background-color: rgba(0, 0, 0, 0.8);
  color: white;
  font-family: var(--font-sans);
  font-size: var(--step-0);
  line-height: 1.4;
  border-radius: 4px;
}

/* Video Grid Layouts */
.video-grid {
  display: grid;
  grid-template-columns: repeat(12, 1fr);
  gap: var(--grid-gutter);
  max-width: var(--grid-max-width);
  margin-inline: auto;
  padding-inline: var(--grid-gutter);
}

/* Demo Container */
.video-showcase {
  max-width: var(--grid-max-width);
  margin-inline: auto;
  padding-inline: var(--grid-gutter);
}

.video-section {
  margin-bottom: var(--space-3xl);
  padding-block: var(--space-xl);
  border-bottom: 1px solid var(--color-outline-variant);
}

.video-section:last-child {
  border-bottom: none;
}

.video-section__title {
  font-family: var(--font-sans);
  font-size: var(--step-3);
  font-weight: 700;
  margin: 0 0 var(--space-m) 0;
  color: var(--color-on-background);
}

.video-section__description {
  font-family: var(--font-sans);
  font-size: var(--step-0);
  line-height: 1.6;
  margin: 0 0 var(--space-l) 0;
  color: var(--color-on-surface-variant);
  max-width: 65ch;
}

/* Video Hero */
.video-hero {
  position: relative;
  width: 100%;
  min-height: 500px;
  display: flex;
  align-items: center;
  justify-content: center;
  overflow: hidden;
  background-color: var(--color-surface-variant);
  margin-bottom: var(--space-3xl);
}

.video-hero .video {
  position: absolute;
  inset: 0;
  width: 100%;
  height: 100%;
  object-fit: cover;
}

.video-hero__content {
  position: relative;
  z-index: 1;
  text-align: center;
  padding: var(--space-xl);
  color: white;
  text-shadow: 0 2px 4px rgba(0, 0, 0, 0.8);
}

.video-hero__title {
  font-family: var(--font-display);
  font-size: var(--step-6);
  font-weight: 700;
  margin: 0 0 var(--space-m) 0;
}

.video-hero__subtitle {
  font-family: var(--font-sans);
  font-size: var(--step-2);
  font-weight: 400;
  margin: 0;
}

/* Responsive Video */
@media (max-width: 768px) {
  .video-hero {
    min-height: 300px;
  }

  .video-hero__title {
    font-size: var(--step-4);
  }

  .video-hero__subtitle {
    font-size: var(--step-0);
  }

  .video-controls {
    padding: var(--space-s);
  }

  .video-volume__slider {
    width: 60px;
  }

  .video-play-button {
    width: 48px;
    height: 48px;
  }

  .video-play-button .icon {
    font-size: 24px;
  }
}
